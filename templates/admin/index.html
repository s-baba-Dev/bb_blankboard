{% extends "base_admin.html" %}

{% block title %}管理者：記事一覧 - B.B. BlankBoard{% endblock %}

{% block content %}

<h1 class="text-3xl font-bold mb-6">記事一覧（管理者）</h1>

<form action="/admin/search" method="get" class="mb-6 flex gap-2">
    <input 
        type="text" 
        name="q" 
        placeholder="検索キーワード..."
        class="border border-gray-300 rounded px-3 py-2 w-64"
    >
    <button 
        type="submit"
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
    >
        検索
    </button>
</form>

{% if search_query %}
<p class="text-gray-500 mb-4">
    「{{ search_query }}」の検索結果（{{ posts|length }}件）
</p>
{% endif %}

<div class="space-y-6">
    {% for post in posts %}
    <a href="/admin/posts/{{ post.id }}" 
        class="block p-6 bg-white rounded-lg shadow hover:shadow-lg transition">

        <h2 class="text-2xl font-semibold text-blue-600 mb-2">
            {{ post.title }}
        </h2>

        <p class="text-gray-500 text-sm mb-3">
            {{ post.created_at }}
        </p>

        <p class="text-gray-700 line-clamp-2">
            {{ post.content }}
        </p>
    </a>
    {% endfor %}
</div>

{% endblock %}
